

> 클라이언트가 서버에 요청을 보내면 서버는 해당 요청에 대해 응답한다




## 웹 동작 순서

1. 사용자가 웹 브라우저의 검색창에 특정 사이트의 주소를 검색한다
2. **웹 브라우저**가 **DNS**에게 특정 사이트의 도메인 주소를 요청한다
3. **DNS**가 웹 브라우저에게 `사이트의 IP 주소`를 응답한다
4. **웹 브라우저**가 IP 주소를 이용하여 **웹 서버**에게 html 문서를 요청한다
5. 웹 서버는 바로 웹 페이지를 공급하지 못하고 **웹 어플리케이션 서버**와 **데이터베이스**에서 웹 페이지 작업을 처리한다
6. 작업 처리 결과를 **웹 서버**로 보낸다
7. 웹 서버는 **웹 브라우저**에게 `html 문서 결과`를 응답한다
8. 웹 브라우저는 화면에 웹 페이지를 출력한다 



## 웹 동작 방식

![image-20220114222436193](https://github.com/newgardener/TIL/blob/main/Web/images/web_process.png)

웹 동작 방식을 일상 생활에 빗대어 설명할 수 있다.

레스토랑에 들어온 손님이 있다. 손님은 종업원에게 파스타를 주문하고 종업원은 요리사에게 주문서를 전달한다. 그러면 요리사는 파스타를 레시피에 맞게 조리한 후 요리가 완성되면 종업원에게 완성된 파스타를 전달한다. 종업원은 파스타를 손님에게 대접한다.

![image-20220114222601936](https://github.com/newgardener/TIL/blob/main/Web/images/restaurant.png)

> 손님(사용자)의 파스타(페이지) 주문을 확인한 종업원(클라이언트)이 요리사(서버)에게 요청(Request)을 보내면, 요리사(서버)는 해당 요청(Request)에 대해 응답(Response)를 한다



### 웹 클라이언트 (Web Client)

Internet Explorer, Chrome 등의 웹 브라우저를 `웹 클라이언트`라고 한다.

브라우저 주소창에 특정 URL을 입력하고 엔터키를 치면 웹 클라이언트는 URL에 대한 정보를 찾아 **HTTP 메시지 형태**로 **서버에게 요청(Request)**한다.



### 웹 서버 (Web Server)

웹 페이지, 사이트 또는 앱을 저장하는 프로그램을 `웹 서버` (ex. Apache Web Server, IIS 등) 라고 한다.

서버는 클라이언트가 보낸 HTTP 요청을 확인하고 페이지를 만드는데 필요한 HTML, CSS, JS, Image 등을 가져와 클라이언트에게 보내준다.



### WAS (Web Application Server)

서버 혼자서 모든 로직을 수행하고 데이터를 관리한다면 서버에 과부화가 일어날 가능성이 크다. 이 때 서버의 일을 도와주는 조력자가 `WAS`다.

`WAS` 는 `웹 서버`의 요청을 받아와 동적인 페이지 처리를 담당하고 DB에서 데이터 정보를 받아온다. `WAS`는 `DB`와 연동하여 데이터를 처리한 후에 생성한 파일을 웹 서버에게 반환한다.

`WAS`의 등장으로 웹 서버가 해야 할 일을 분배하여 서버의 부담을 줄일 수 있고 빠르게 동적 컨텐츠를 처리할 수 있게 되었다.



### DB (Database)

`DB` 는 세프들이 요리하는데 필요한 냉장고와 같은 역할을 한다. 요리에 필요한 재료를 제공하거나 손님의 요청으로 다 만들어 둔 음식을 보관할 때도 사용한다.

즉, 다양한 상황에서 자원들을 잘 정리해서 보관하는 장소가 `DB` 이다.

`WAS`에서 로직을 수행하다가 `DB` 접근이 필요하면 SQL 질의를 통해 데이터를 요청하고 `DB`는 요청에 맞는 응답을 보낸다. 또는 `WAS`에서 `DB`에 특정 내용의 저장을 요청하고 `DB`는 그 내용을 정리하여 저장한다.

