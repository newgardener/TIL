## 클래스 이론

### ✅ 클래스, 상속, 인스턴스화

객체 지향 프로그래밍에서는 데이터(`data`)는 자신을 기반으로 실행되는 작동(`behavior`)과 연관되므로 데이터와 작동을 잘 감싸는 것(`encapsulation`)이 좋은 설계라고 말한다.

**클래스**는 특정 자료 구조를 분류하는 용도로 쓰인다. 일반적인 기준 정의에서 세부적이고 구체적인 변형으로서의 자료 구조를 도출하는 식이다. 

예를 들어 차 (Car) 는 일반적인 탈 것 (Vehicle) 클래스의 구현체이다. Car는 Vehicle의 base definition을 **상속** 받아 정의한다. 즉, Car가 일반적인 Vehicle의 정의를 세분화한 것이다. 

Vehicle과 Car 클래스에서 메서드를 통해 집합적인 작동을 정의한다면 **인스턴스** 데이터는 차량별 고유 시리얼 넘버와도 같은 것이다.



### ✅ 다형성

다형성은 부모 클래스에서 뭉뚱그려 정의된 작동을 자식 클래스에서 더 구체화하여 재정의 (override) 하는 것을 말한다.

클래스 이론에서는 어떤 작동이 담긴 메서드의 이름을 부모와 자식 클래스 모두 똑같이 공유하여 자식 클래스 메서드가 부모 클래스 메서드와는 다르게 override하는 것을 권장한다. 그러나 JS에서는 이렇게 하면 예기치 못한 일이 일어난다.



## 자바스크립트의 클래스

> 자바스크립트에는 클래스가 있을까? 
>
> 아니다...!



### 클래스 체계

클래스와 인스턴스 중심의 사고방식

👉🏻 **클래스**는 아키텍트와 같다. 건물을 몇채 지을건지 건물 안에 어떤 내용물이 들어갈지 신경쓰지 않아도 되고 부품들을 배치할 **전체적인 구조** 만 신경쓰면 된다. (=건물의 청사진)

👉🏻 **인스턴스**는 청사진의 물질적 인스턴스인 완공된 건물이다. 

클래스라는 붕어빵 틀에서 구워내어 만드렁진 붕어빵이 인스턴스이다. 인스턴스 즉 객체는 클래스에 기술된 모든 특성을 그대로 가지고 있는 사본이다.



### 클래스 상속

첫번째 클래스(부모 클래스)를 상속받은 두번째 클래스(자식 클래스)를 정의할 수 있다.

자식 클래스의 생성자가 `super` 키워드로 부모 클래스의 생성자를 참조하는 것은 클래스 지향 언어가 지원하는 기능이다. 그러나 자바스크립트에서는 정반대로 동작한다고 볼 수 있다.

> 클래스가 생성자에 속한다고 보는 것이 맞다. 자바스크립트의 부모/자식 관계는 각 생성자의 `.prototype` 객체에만 기술되므로 생성자끼리는 직접적인 연관성이 없어 서로를 참조할 수 있는 방법이 없다.

클래스의 상속이 발생하면 자식 클래스가 부모 클래스에 연결되어 `super`를 통해 부모 클래스의 작동에 접근할 수 있을 것 같다. 하지만 클래스의 상속은 **부모 클래스의 작동을 복사한 것**에 불가하다.

> 자바스크립트에서는 객체만 있기 때문에 객체를 상속받거나 인스턴스화해도 복사가 일어나지 않는다.

자바스크립트는 다른 클래스 지향 언어와는 다르게 동작하기 때문에 아래와 같이 그 방식을 모방해볼 수 있다. 부모 클래스 Vehicle의 정의를 복사하고 자식 클래스 정의에 믹스인한 후 조합된 객체인 car를 자식 인스턴스로 넘기는 방식이다. 

```js
function Vehicle() {
  this.engines = 1;
}
Vehicle.prototype.ignition = function()  {
  console.log('엔진을 켠다');
}
Vehicle.prototype.drive = function() {
  this.ignition();
	console.log('방향을 맞추고 앞으로 나아간다');
}

function Car() {
  // 자동차는 탈 것의 하나이다
  const car = new Vehicle();
  // 자동차에만 해당하는 내용을 수정한다
  car.wheels = 4;
  
  const vehDrive = car.drive;
  car.drive = function() {
    vehDrive.call(this);
    console.log(this.wheels + '개의 바퀴로 굴러간다')
  }
  return car;
}

const myCar = new Car();
myCar.drive();
// 엔진을 켠다
// 방향을 맞추고 앞으로 나아간다
// 4개의 바퀴로 굴러간다
```

